# Data Modeling with Postgre


## Purpose of this project
### A startup called Sparkify wants to analyze the data they have gathered about songs and user activity in their new music streaming app. The analytical goal of this project is to create a database that will help them analyze user activity. In particular, what songs users are listenng to.

## Dataset used in this project
### Song Dataset 
> ### Song Dataset is from the Millon Song Dataset. There are JSON files that contain metadata about a song and the artist.

### Below is an example of what a song file looks like.
> {"num_songs": 1, "artist_id": "ARJIE2Y1187B994AB7", "artist_latitude": null, "artist_longitude": null, "artist_location": "", "artist_name": "Line Renaud", "song_id": "SOUPIRU12A6D4FA1E1", "title": "Der Kleine Dompfaff", "duration": 152.92036, "year": 0}

### Log Dataset
> ### The second dataset consists of log files in JSON format generated by this event simulator based on the songs in the dataset above.   

## Database schema design

### Fact Table
> songplays - records in log data associated with song plays i.e. records with page NextSong
> - songplay_id, start_time, user_id, level, song_id, artist_id, session_id, location, user_agent

### Dimension Tables
> users - users in the app
> - user_id, first_name, last_name, gender, level

> songs - songs in music database
> - song_id, title, artist_id, year, duration

> artists - artists in music database
> - artist_id, name, location, latitude, longitude

> time - timestamps of records in songplays broken down into specific units
> - start_time, hour, day, week, month, year, weekday

## ETL pipeline
In this project a database for storing music and artist records are created. Data is then extracted from the source, transformed using Pandas DataFrame, and loaded into the database. 

## Start project
Run "create_tables.py" in the terminal. This creates a new database called Sparkify.
After the first step, run "etl.py" in the terminal to load the data into the tables.

Another way to start the project is to run the "main.py" file in the terminal.
> python main.py